---
interface Props {
    certification: any;
    index: number;
    t: {
        viewCredential?: string;
        [key: string]: string | undefined;
    };
}
const { certification, index, t } = Astro.props;
---

<article
    class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 py-5 reveal-hidden"
    style="border-bottom: 1px solid var(--border-subtle);"
>
    <div class="flex items-start sm:items-center gap-5">
        <span
            class="font-mono text-xs w-6 shrink-0 mt-0.5 sm:mt-0"
            style="color: var(--text-muted);"
        >
            {String(index + 1).padStart(2, "0")}
        </span>
        <div class="flex flex-col gap-1">
            <h3 class="text-sm font-bold" style="color: var(--text-primary);">
                {certification.title}
            </h3>
            <div
                class="flex items-center gap-3 font-mono text-xs"
                style="color: var(--text-muted);"
            >
                <span>{certification.issuer}</span>
                {
                    certification.issue_date && (
                        <>
                            <span>·</span>
                            <span>
                                {new Date(
                                    certification.issue_date
                                ).toLocaleDateString()}
                            </span>
                        </>
                    )
                }
            </div>
        </div>
    </div>

    {
        certification.credential_url && (
            <a
                href={certification.credential_url}
                target="_blank"
                rel="noopener noreferrer"
                class="font-mono text-xs tracking-widest shrink-0 sm:ml-4 transition-opacity"
                style="color: var(--text-secondary);"
                onmouseover="this.style.color='var(--text-primary)';"
                onmouseout="this.style.color='var(--text-secondary)';"
            >
                {t.viewCredential || "credential"} ↗
            </a>
        )
    }
</article>
